// ATOMS
// ===========================================================

.a-select {
  @include formText();
  border: 1px solid $action;

  option{
    padding-left: 1em;

    &:disabled{
      color: $subtle-text;
    }
  }
}


// MOLECULE
// ===========================================================

.m-dropdown {
  position: relative;
  display: block;
  background: $inputbg;
}

.m-dropdown::after {
  content: ' ';
  display: block;
  position: absolute;
  top: 50%;
  right: $body_leading/$inputfontsize+0em;
  z-index: 10;
  width: 0;
  height: 0;
  margin-top: -4px;
  border-style: solid;
  border-width: 8px 6px 0 6px;
  border-color: $action transparent transparent transparent;
  pointer-events: none;
}

body:last-child .m-dropdown .a-select,
x:-moz-any-link {
  padding-right: 1em;
}

// Browser fixes -------------------------------------------

@media screen and (-ms-high-contrast: active),
(-ms-high-contrast: none) {
  .m-dropdown .a-select::-ms-expand {
    display: none;
  }

  .a-select:focus::-ms-value {
    background: transparent;
  }
}

body:last-child .m-dropdown::after,
x:-moz-any-link {
  display: none;
}

/* Firefox 7+ */
/* The specific FF selector used below successfully overrides the previous rule that turns off the custom icon; other FF hacky selectors we tried, like `*>.dropdown::after`, did not undo the previous rule */
/* Show only the custom icon */
_::-moz-progress-bar,
body:last-child .m-dropdown:after {
  display: block;
}

_::-moz-progress-bar,
body:last-child .m-dropdown .a-select {
  padding-right: 1.9em;
  -moz-appearance: window;
  text-indent: 0.01px;
  text-overflow: "";
}

/* Opera - Pre-Blink nix the custom arrow, go with a native select button */

x:-o-prefocus,
.m-dropdown::after {
  display: none;
}


// ORGANSIM
// ===========================================================

// .o-dropdown__wrap{}

// STATES
// ===========================================================

.a-select:focus{
  border-color: $border-1;
}

/* Firefox 7+ focus style - This works around the issue that -moz-appearance: window  kills the normal select focus. Using semi-opaque because outline doesn't handle rounded corners */
_::-moz-progress-bar,
body:last-child .m-dropdown .a-select:focus {
  outline: 1px solid rgba($border-1, .99);
}

/* Firefox focus has odd artifacts around the text, this kills that */
.a-select:-moz-focusring {
  color: transparent;
  text-shadow: 0 0 0 #000;
}


// ANIMATIONS
// ===========================================================

// .transitions{}